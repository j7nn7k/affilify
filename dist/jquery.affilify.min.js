/*
 *  jquery-affilify - v0.0.1
 *  A jquery plugin to replace links with affiliate links on the fly. Support for Amazon, Affilinet, Zanox.
 *  https://github.com/j7nn7k/affilifyt
 *
 *  Made by Jannik Weyrich
 *  Under MIT License
 */
!function(a,b,c,d){"use strict";function e(b,c){this.element=b,this.$el=a(b),this.originalUrl=this.$el.attr("href")||"",this.originalDomain=this.extractDomain(this.originalUrl),this.affiliateUrl="",this.settings=a.extend({},g,c),this._defaults=g,this._name=f,this.init()}var f="affilify",g={zanoxPublisherId:""};a.extend(e.prototype,{init:function(){this.$el.click(function(a){this.shouldReplaceLink()&&(a.preventDefault(),this.isZanox()&&this.makeZanox())})},shouldReplaceLink:function(){return this.$el.attr("data-noaffiliatereplace")===d},extractDomain:function(){var a,b;return this.originalUrl.indexOf("://")>-1?(b=this.originalUrl.split("://")[0]+"://",a=this.originalUrl.split("/")[2]):a=this.originalUrl.split("/")[0],a=a.split(":")[0],b+a},makeZanox:function(){this.affiliateUrl="https://ad.zanox.com/ppc/?"+this.settings.zanoxPublisherId+"&ulp=[["+this.originalUrl+"?utm_source=zanox&utm_campaign=deeplinkzx_de&affil=zanox]]"},isZanox:function(){return this.originalDomain.indexOf("myprotein")>-1||this.originalDomain.indexOf("vaola.de")>-1}}),a.fn[f]=function(b){return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))})}}(jQuery,window,document);